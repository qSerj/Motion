# ü§∏ Motion Trainer AI

**–£–º–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–ø–æ—Ä—Ç–∞, —Ç–∞–Ω—Ü–µ–≤ –∏ –õ–§–ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è.**

> *"–ü—Ä–µ–≤—Ä–∞—â–∞–µ–º —Ä—É—Ç–∏–Ω–Ω—É—é –∑–∞—Ä—è–¥–∫—É –≤ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—É—é –∏–≥—Ä—É, –∞ —Ä–∞–∑—É—á–∏–≤–∞–Ω–∏–µ —Ç–∞–Ω—Ü–µ–≤ ‚Äî –≤ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ."*

---

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å–∫—É—á–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –¥–µ—Ç–µ–π —Å –°–î–í–ì) —á–µ—Ä–µ–∑ –º–≥–Ω–æ–≤–µ–Ω–Ω—É—é –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å.
–≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä, —ç—Ç–æ **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä**, –∫–æ—Ç–æ—Ä—ã–π "–≤–∏–¥–∏—Ç" –∏–≥—Ä–æ–∫–∞, –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –Ω–∞—á–∏—Å–ª—è–µ—Ç –±–∞–ª–ª—ã –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ —É—Ä–æ–≤–Ω–∏.

**–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∂–∏–º—ã:**
1.  **–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è:** –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∑–∞ –æ—á–∫–∏ (–∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –¥–µ—Ç–µ–π).
2.  **Dance Mode:** –†–∞–∑—É—á–∏–≤–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–π —Å —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ (–∫–∞–∫ Just Dance).
3.  **–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è:** –†–µ–∂–∏–º –¥–ª—è 2+ –∏–≥—Ä–æ–∫–æ–≤ –ø–µ—Ä–µ–¥ –æ–¥–Ω–æ–π –∫–∞–º–µ—Ä–æ–π.
4.  **–ö–∏–Ω–æ-—Ä–µ–∂–∏–º (No Camera):** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∫–∞–∫ –ø–ª–µ–µ—Ä–∞ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –µ—Å–ª–∏ –∫–∞–º–µ—Ä–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Hybrid Core)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–∏–±—Ä–∏–¥–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –≥–∏–±–∫–æ—Å—Ç–∏ UI.
```mermaid
graph LR
    subgraph Backend ["Python Core: The Brain"]
        MP[MediaPipe / YOLO]
        Math[Geometry & Logic]
        Audio[Audio Processing]
    end

    subgraph Frontend ["C# / Avalonia: The Face"]
        UI[User Interface]
        Render[Direct2D / Skia Render]
        Editor[Level Editor]
    end

    Backend <-->|ZeroMQ / IPC| Frontend
```

* **Backend (Python 3.11):** –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ç—Ä–µ–∫–∏–Ω–≥ –ø–æ–∑—ã (MediaPipe), –º–∞—Ç–µ–º–∞—Ç–∏–∫—É —Å–∫–µ–ª–µ—Ç–∞ –∏ –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª. –†–∞–±–æ—Ç–∞–µ—Ç –≤ headless-—Ä–µ–∂–∏–º–µ, –ø—É–±–ª–∏–∫—É–µ—Ç –∫–∞–¥—Ä—ã –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
* **Frontend (C# / Avalonia UI):** –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Windows/Linux/macOS). –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ (—Ä–µ—Ñ–µ—Ä–µ–Ω—Å –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å), –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã (load/pause/resume).
* **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç:** **ZeroMQ**: PUB/SUB –¥–ª—è –∫–∞–¥—Ä–æ–≤ –∏ REQ/REP –¥–ª—è –∫–æ–º–∞–Ω–¥.

---

## üì¶ –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö: .MTP (Motion Trainer Package)

–ö–æ–Ω—Ç–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö (ZIP-–∞—Ä—Ö–∏–≤ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.mtp`). –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏.

**–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (MTP v2):**
* `manifest.json` ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã.
* `patterns.json` ‚Äî "—Ü–∏—Ñ—Ä–æ–≤–∞—è –ø–∞—Ä—Ç–∏—Ç—É—Ä–∞" –¥–≤–∏–∂–µ–Ω–∏–π (—É–≥–ª—ã –ø–æ —Ç–∞–π–º–ª–∞–π–Ω—É).
* `video.mp4` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–π —Ä–æ–ª–∏–∫.
* `timeline.json` ‚Äî —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–æ–±—ã—Ç–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

---

## üöÄ Roadmap (–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –§–∞–∑–∞ 1: Python MVP (–í—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úÖ)
* [x] –ë–∞–∑–æ–≤—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ —Ç–µ–ª–∞ (MediaPipe Pose).
* [x] –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —É–≥–ª–æ–≤ (Cosine similarity / Euclidean distance).
* [x] –û—Ü–∏—Ñ—Ä–æ–≤—â–∏–∫ –≤–∏–¥–µ–æ (—Å–æ–∑–¥–∞–Ω–∏–µ JSON-–ø–∞—Ä—Ç–∏—Ç—É—Ä).
* [x] –ü—Ä–æ—Ç–æ—Ç–∏–ø –∏–≥—Ä–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞ (Split-screen, —Å—á–µ—Ç—á–∏–∫–∏).

### –§–∞–∑–∞ 2: –ì–∏–±—Ä–∏–¥–Ω–æ–µ —è–¥—Ä–æ (–í –ø—Ä–æ—Ü–µ—Å—Å–µ ‚úÖ)
* [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è IPC (ZeroMQ) –º–µ–∂–¥—É Python –∏ C#.
* [x] –ö–∞–Ω–∞–ª –∫–æ–º–∞–Ω–¥ (load/pause/resume/digitize).
* [x] –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–≤—É—Ö –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–æ–≤ (—Ä–µ—Ñ–µ—Ä–µ–Ω—Å + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å) –≤ Avalonia.
* [x] –ó–∞–≥—Ä—É–∑–∫–∞ .mtp v2 (manifest + patterns + video).

### –§–∞–∑–∞ 3: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∏ –†–µ–¥–∞–∫—Ç–æ—Ä
* [ ] **–†–µ–¥–∞–∫—Ç–æ—Ä —É—Ä–æ–≤–Ω–µ–π (UI):** –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ç–∞–π–º–ª–∞–π–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `.mtp` –ø–∞–∫–µ—Ç–æ–≤.
* [ ] **Timeline-–¥–≤–∏–∂–æ–∫:** –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π `timeline.json`.
* [ ] **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–≤—É–∫–∞, –≤–∏–¥–µ–æ –∏ –æ–≤–µ—Ä–ª–µ–µ–≤.

### –§–∞–∑–∞ 4: –ì–µ–π–º–ø–ª–µ–π –∏ AI
* [ ] **Multi-User Tracking:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä—É–ø–ø—ã –ª—é–¥–µ–π (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–∫–µ–ª–µ—Ç–æ–≤, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è).
* [ ] **–†–µ–∂–∏–º "–ë–µ–∑ –∫–∞–º–µ—Ä—ã":** –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –±–µ–∑ —Å–∫–æ—Ä–∏–Ω–≥–∞.
* [ ] **–°–ª–æ–∂–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:** –î–µ—Ç–µ–∫—Ü–∏—è –ø—Ä—ã–∂–∫–æ–≤, –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–π, –∫–∞—Å–∞–Ω–∏–π (–Ω–æ—Å–∞, –ø–æ–ª–∞).

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Core (Backend):**
* Python 3.11
* `mediapipe` / `ultralytics` (AI Tracking)
* `numpy` (Math)
* `pyzmq` (Transport)
* `ffpyplayer` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –∑–≤—É–∫)

**UI (Frontend):**
* C# .NET 10
* Avalonia UI (Framework)
* `NetMQ` (Transport)
* `FFmpeg` (Media decoding optional)

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* Python 3.11+
* .NET 10.0 SDK
* –í–µ–±-–∫–∞–º–µ—Ä–∞

### –ó–∞–ø—É—Å–∫ (–¢–µ–∫—É—â–∞—è Python –≤–µ—Ä—Å–∏—è)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone https://github.com/qSerj/Motion.git

# 2. Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cd Motion
python -m venv .venv
source .venv/bin/activate  # –∏–ª–∏ .venv\Scripts\activate –Ω–∞ Windows
pip install -r backend/requirements.txt

# 3. –ó–∞–ø—É—Å–∫ backend (–æ–∂–∏–¥–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –æ—Ç UI)
python backend/play_game.py
```

### –ó–∞–ø—É—Å–∫ Frontend (C# / Avalonia)

```bash
# 1. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø–∞–ø–∫—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
cd frontend

# 2. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
dotnet run --project frontend/Motion.Desktop
```

> –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–Ω–∞—á–∞–ª–∞ —Å–æ–±–µ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ: `dotnet build frontend/Motion.sln`.

---

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞ –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É.
–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –ø–æ–º–æ—â—å –≤:
* –†–∞–∑—Ä–∞–±–æ—Ç–∫–µ UI –Ω–∞ Avalonia.
* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞ ZeroMQ.
* –°–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ—Ü–µ–Ω–∫–∏ –¥–≤–∏–∂–µ–Ω–∏–π.
